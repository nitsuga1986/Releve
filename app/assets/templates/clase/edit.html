<h2 data-ng-bind-html="FormTitle | html_trusted">Clase</h2>
<hr class="clase"/>
<div class="col-sm-12"><h3>Detalle</h3></div>
<!-- Alerts -->
<div class="col-sm-12">
	<div class="alert alert-danger" role="alert" data-ng-show="(ClaseForm.$invalid && ClaseForm.submitted)||(ClaseForm.fecha.$dirty && ClaseForm.fecha.$invalid)||(ClaseForm.horario.$dirty && ClaseForm.horario.$invalid)||(ClaseForm.instructor.$dirty && (ClaseForm.instructor.$invalid || !clase.instructor_id))">
		<ul>
			<li data-ng-show="(ClaseForm.fecha.$dirty||ClaseForm.submitted) && ClaseForm.fecha.$invalid">Se requiere la fecha de la clase</li>
			<li data-ng-show="(ClaseForm.horario.$dirty||ClaseForm.submitted) && ClaseForm.horario.$invalid">Se requiere el horario de la clase</li>
			<li data-ng-show="(ClaseForm.instructor.$dirty||ClaseForm.submitted) && (ClaseForm.instructor.$invalid || !clase.instructor_id)">Se requiere el instructor de la clase</li>
		</ul>
	</div>
</div>
<!-- SubmitError -->
<div class="col-sm-12">
	<div class="alert alert-danger" role="alert" data-ng-show="submiterror">
		<h4>Algo raro pasó con la página... avisar Vicky porfa ;)</h4>
	</div>
</div>
<!-- Formulario -->
<div class="col-sm-12">
	<form class="form-horizontal" data-ng-submit="submit()" name="ClaseForm" novalidate role="form">
		<!-- fecha -->
		<div class="form-group col-sm-6" data-ng-class="{'has-error': (ClaseForm.fecha.$dirty||ClaseForm.submitted) && ClaseForm.fecha.$invalid}">
			<label for="fecha" class="col-sm-2 control-label">Fecha</label>
			<div class="col-sm-10">
				<div class="input-group">
					<input required type="text" class="form-control" name="fecha" data-ng-model="clase.fecha" data-ng-blur="GoToClaseEdit()" id="fecha" placeholder="aaaa-mm-dd">
					<label title="Ver calendario" for="fecha" class="input-group-addon btn"><span class="glyphicon glyphicon-calendar"></span></label>
					<label title="Fecha de hoy" class="input-group-addon btn btn-primary" data-ng-click="clase.fecha = SetToday()"><i class="fa fa-calendar-o"></i></label>
				</div>
			</div>
		</div>
		<!-- horario -->
		<div class="form-group col-sm-6"  data-ng-class="{'has-error': (ClaseForm.horario.$dirty||ClaseForm.submitted) && ClaseForm.horario.$invalid}">
			<label for="horario" class="col-sm-2 control-label">Horario</label>
			<div class="col-sm-10">
				<select required class="form-control" data-ng-blur="GoToClaseEdit()" name="horario" data-ng-model="clase.horario" id="horario" data-ng-options="horario as horario for horario in horariosArray"></select> 
			</div>
		</div>
		<!-- Users -->
		<div class="col-sm-12"><h3>Users</h3></div>

		<div class="form-group col-sm-12">
			<label for="search_user" class="col-sm-2 control-label">Buscar user</label>
			<div class="col-sm-10">
				<input type="text" class="form-control" name="search_user" data-ng-model="search_user" id="search_user" placeholder="ej. Lucas Paya Bruno" to-title-case>
			</div>
		</div>

		<div class="col-sm-12">
		<div class="table-responsive">
			<table class="table table-striped table-condensed table-hover">
				<thead>
					<tr>
						<!-- <th>Id</th> -->
						<th></th>
						<th>Nombre</th>
						<th>Apellido</th>
						<th>Graduación actual</th>
					</tr>
				</thead>
				<tbody>
					<tr data-ng-repeat="user in clase.users">
						<td><a class="btn btn-default btn-xs" data-ng-click="DeleteUser(user.id)"><i class="fa fa-times"></i></a></td>
						<!-- <td>{{user.id}}</td> -->
						<td>{{user.email}}</td>
					</tr>
				</tbody>
			</table>
		</div></div>

		<!-- Submit-->
		<div class="col-sm-12">
			<button type="submit" class="btn btn-primary btn-lg pull-right" data-ng-bind-html="FormButton | html_trusted"></button>
		</div>
	</form>
</div>
